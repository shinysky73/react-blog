# PRD: 차세대 사내 블로그 시스템 구축

## 1. 프로젝트 개요 및 목표

### 1.1. 목표
본 프로젝트의 목표는 사내 구성원 간의 지식 공유, 기술 및 정보 전파, 그리고 자유로운 소통을 활성화하는 고도화된 블로그 플랫폼을 구축하는 것입니다. 단순한 게시판을 넘어, 양질의 콘텐츠 작성을 지원하고 정보 접근성을 극대화하며 커뮤니티 기능을 강화하여 살아있는 지식 베이스(Knowledge Base)로 기능하도록 합니다.

### 1.2. 핵심 가치
-   **콘텐츠 품질 향상:** 직관적이고 강력한 에디터를 제공하여 누구나 쉽게 양질의 콘텐츠를 작성하도록 돕습니다.
-   **정보 접근성 강화:** 체계적인 분류, 강력한 검색, 개인화된 피드를 통해 원하는 정보에 빠르게 접근할 수 있도록 합니다.
-   **커뮤니티 및 소통 활성화:** 댓글, 좋아요, 알림 등의 기능을 통해 구성원 간의 건강한 상호작용을 촉진합니다.
-   **부서 간 시너지 창출:** 부서별 지식을 체계적으로 아카이빙하고 공유하여 부서 간 협업과 시너지를 유도합니다.

---

## 2. 핵심 기능 요구사항 (Epics)

### Epic 1: 강화된 콘텐츠 작성 및 관리

#### 스토리 1.1: 위지윅(WYSIWYG) 에디터 도입 (Shadcn Editor)
-   **설명:** 사용자가 텍스트 서식(볼드, 이탤릭), 목록, 인용구, 코드 블록, 이미지 업로드 등을 직관적으로 사용할 수 있는 고품질의 위지윅 에디터를 제공합니다.
-   **구현 제안:**
    -   **Frontend:** `shadcn-editor` 또는 유사한 고기능 마크다운 기반 에디터 라이브러리를 연동합니다.
    -   **Backend:** 이미지 업로드를 처리하기 위한 API를 구현합니다. (예: `multer` 사용, AWS S3 또는 서버 내 저장)

#### 스토리 1.2: 게시물 상태 및 공개 범위 관리
-   **설명:** 사용자는 게시물의 상태를 `임시저장`, `발행`으로 관리할 수 있으며, 발행된 글의 공개 범위를 `공개`, `비공개`(링크를 가진 사용자만 접근 가능)로 설정할 수 있습니다.
-   **구현 제안:**
    -   **DB:** `Post` 모델에 `status` (enum: `DRAFT`, `PUBLISHED`) 필드와 `visibility` (enum: `PUBLIC`, `PRIVATE`) 필드를 추가합니다.
    -   **Backend:** 게시물 생성/수정 시 상태 값을 처리하고, 조회 API는 권한에 따라 `PRIVATE` 게시물을 필터링하도록 구현합니다.

#### 스토리 1.3: 콘텐츠 분류 (카테고리 및 태그)
-   **설명:** 모든 게시물은 하나 이상의 카테고리에 속해야 하며, 검색 편의성을 위해 여러 개의 태그를 추가할 수 있습니다. 카테고리는 관리자에 의해 관리될 수 있습니다.
-   **구현 제안:**
    -   **DB:** `Category`, `Tag` 모델을 추가하고 `Post` 모델과 다대다(Many-to-Many) 관계를 설정합니다.
    -   **Frontend:** 글 작성 페이지에서 카테고리 선택(Dropdown) 및 태그 입력 UI를 구현합니다.

---

### Epic 2: 콘텐츠 발견 및 커뮤니티 활성화

#### 스토리 2.1: 메인 피드 및 검색/필터링
-   **설명:** 메인 화면(`HomePage`)에는 `공개(PUBLIC)` 상태인 모든 게시물이 최신순으로 표시됩니다. 사용자는 카테고리별로 게시물을 필터링하거나, 키워드를 입력하여 제목과 내용 기반의 전체 텍스트 검색을 할 수 있습니다.
-   **구현 제안:**
    -   **Backend:** `GET /posts` API에 페이지네이션, 카테고리 필터링, 검색어(keyword) 파라미터를 추가하여 고도화된 목록 조회 기능을 제공합니다.
    -   **Frontend:** 메인 페이지에 카테고리 필터 UI와 검색창을 구현합니다.

#### 스토리 2.2: 댓글 및 좋아요 기능
-   **설명:** 사용자는 각 게시물에 댓글을 작성하여 의견을 나눌 수 있으며, 대댓글을 통해 특정 댓글에 대한 토론을 이어갈 수 있습니다. 또한 '좋아요'를 눌러 게시물에 대한 긍정적인 피드백을 표현할 수 있습니다.
-   **구현 제안:**
    -   **DB:** `Comment` (자기 참조 관계 포함), `Like` 모델을 추가하고 `User`, `Post`와 관계를 설정합니다.
    -   **Frontend:** 게시물 상세 페이지 하단에 댓글 목록, 댓글 입력 폼, 좋아요 버튼 및 카운트를 구현합니다.

#### 스토리 2.3: 알림 시스템
-   **설명:** 내 게시물에 새로운 댓글이나 좋아요가 등록되거나, 주요 공지사항이 발행될 때 사용자에게 알림을 보냅니다.
-   **구현 제안:**
    -   **DB:** `Notification` 모델을 추가합니다.
    -   **Backend:** 특정 이벤트 발생 시 알림 데이터를 생성하는 로직을 구현합니다.
    -   **Frontend:** 헤더에 읽지 않은 알림을 표시하는 아이콘과 알림 목록을 보여주는 드롭다운 메뉴를 구현합니다. (실시간 업데이트는 WebSocket 또는 주기적인 API 폴링 방식 고려)

---

### Epic 3: 사용자 및 부서 관리

#### 스토리 3.1: 부서(Department) 모델 도입
-   **설명:** 모든 사용자는 특정 부서에 소속됩니다. 게시물 조회 시 작성자의 이름과 함께 부서 정보가 표시되어, 누가 어떤 맥락에서 글을 작성했는지 명확히 알 수 있습니다.
-   **구현 제안:**
    -   **DB:** `Department` 모델을 추가하고 `User` 모델과 관계(N:1)를 설정합니다.
    -   **Backend:** 사용자 정보 조회 시 부서 정보를 함께 반환하도록 수정합니다.

#### 스토리 3.2: 사용자 프로필 페이지
-   **설명:** 사용자의 프로필(이름, 부서, 자기소개)과 해당 사용자가 작성한 모든 게시물 목록을 볼 수 있는 개인 페이지입니다.
-   **구현 제안:**
    -   **Backend:** `GET /users/:id/posts` 와 같이 특정 유저의 정보와 게시물 목록을 반환하는 API를 구현합니다.
    -   **Frontend:** `/profile/:userId` 동적 라우트를 추가하여 프로필 페이지를 구현합니다.

---

### Epic 4: 사내 시스템 특화 기능

#### 스토리 4.1: 공지사항 기능
-   **설명:** 특정 권한(예: 관리자)을 가진 사용자는 '공지사항'으로 글을 발행할 수 있습니다. 공지사항으로 지정된 글은 일정 기간 메인 피드 최상단에 고정 노출됩니다.
-   **구현 제안:**
    -   **DB:** `Post` 모델에 `isAnnouncement` (Boolean) 필드를 추가합니다.
    -   **Backend:** 공지사항 목록을 별도로 조회하거나, 일반 게시물 조회 시 공지사항을 우선적으로 반환하는 로직을 추가합니다.

#### 스토리 4.2: 작성자 대시보드 (통계 기능)
-   **설명:** 사용자는 'My Dashboard'에서 내가 작성한 글 목록과 함께 각 글의 주요 통계(조회수, 좋아요 수, 댓글 수)를 한눈에 확인할 수 있습니다.
-   **구현 제안:**
    -   **DB:** `Post` 모델에 `viewCount` (Integer) 필드를 추가합니다.
    -   **Backend:** 게시물 상세 조회 API 호출 시 `viewCount`를 1씩 증가시키는 로직을 추가하고, 대시보드를 위한 통계 집계 API를 구현합니다.
